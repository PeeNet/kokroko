<!-- Navbar with search bar, upload button, and file count -->
<link rel="stylesheet" href="styles.css">
<nav>
    <div class="navbar-container">
       <h2>BSc ACCOUNTING EDUCATION </h2>
        <span><a href="home.html">Home</a></span>
   </div>
</nav>
<!-- File List Section -->
<section id="files" class="file-list-section">
    <div class="drive"> <h2>Search here</h2>  <button type="button"><a href="">CLICK ME FOR MORE</a></button> </div>
        <input type="text" id="fileSearch" placeholder="Search files..." oninput="searchFiles()">
      
    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/BASIC ACCOUNTING II (BAC1121) MR. INUSAH NASIRU MAY, 2019 .pdf" target="_blank" class="file-link">BASIC ACCOUNTING II (BAC1121) MR. INUSAH NASIRU MAY, 2019 </a>
    </div>
    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/Cost Accounting II, ACC, L100..pdf" target="_blank" class="file-link">Cost Accounting II, ACC, L100</a>
    </div><div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/COST_ACCOUNTING_II_ACC_122_MRS_PORSCHA_OPOKU_AFRIYIE_AUG_2021_.pdf" target="_blank" class="file-link">COST_ACCOUNTING_II_ACC_122_MRS_PORSCHA_OPOKU_AFRIYIE_AUG_2021</a>
    </div>
    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/FINANCIAL_REPORTING_AND_ANALYSIS_ACC_321_MR_S_ASANTE_MAY_2015.pdf" target="_blank" class="file-link">FINANCIAL_REPORTING_AND_ANALYSIS_ACC_321_MR_S_ASANTE_MAY_2015</a>
    </div>
    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/FINANCIAL_REPORTING_AND_ANALYSISACC_362_DR_J_MBAWUNI_&_MR_O_DEBRAH.pdf" target="_blank" class="file-link">FINANCIAL_REPORTING_AND_ANALYSISACC_362_DR_J_MBAWUNI_&_MR_O_DEBRAH.</a>
    </div>
    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/INTERMEDIATE_ACCOUNTING_II_ACC241_MR_OFORI_DEBRAH_2020_21_ACADEMIC.pdf" target="_blank" class="file-link">INTERMEDIATE_ACCOUNTING_II_ACC241_MR_OFORI_DEBRAH_2020_21_ACADEMIC.</a>
    </div>
    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/MANAGEMENT ACCOUNTING (ACC 232) .pdf" target="_blank" class="file-link">ACCOUNTING EDUCATION/MANAGEMENT ACCOUNTING (ACC 232)</a>
    </div>

    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/Principles of Marketing. MKT, L100. Resit. (1).pdf" target="_blank" class="file-link">Principles of Marketing. MKT, L100. </a>
    </div>

    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/MANAGEMENT_ACCOUNTING_ACC_232_RABIATU_KAMIL_MAY_JUNE,_2022_.pdf" target="_blank" class="file-link">MANAGEMENT_ACCOUNTING_ACC_232_RABIATU_KAMIL_MAY_JUNE,_2022_.pdf</a>
    </div>
    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/PRINCIPLES_OF_MACROECONOMICS_ECNS_121_DR_JOSEPH_BAAFI_AUG_2021_.pdf" target="_blank" class="file-link">PRINCIPLES_OF_MACROECONOMICS_ECNS_121_DR_JOSEPH_BAAFI_AUG_2021_</a>
    </div>
    <div class="file-item">
        <a href="IT/Data Structures_Graph.pdf" target="_blank" class="file-link">Data Structures Graph</a>
    </div>
    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/Public Sector Accounting, BAC, L400.pdf" target="_blank" class="file-link">Public Sector Accounting, BAC, L400.pdf</a>
    </div>
    <div class="file-item">
        <a href="doc/ACCOUNTING EDUCATION/Taxation, ACC, L400.pdf" target="_blank" class="file-link">Taxation, ACC, L400.pdf</a>
    </div>
    <!-- <div class="file-item">
        <a href="IT/MCQ-for-networking_1.pdf" target="_blank" class="file-link">Networking</a>
    </div>
    <div class="file-item">
        <a href="IT/MID SEM Exams Questions_ICT 113 COMPUTER HARDWARE ESSENTIALS MR.PE.pdf" target="_blank" class="file-link">COMPUTER HARDWARE ESSENTIALS</a>
    </div>
    
  
    <div class="file-item">
        <a href="IT/Principles and Practice of Teacher Education. EDC, L200. Mr. K (1).pdf" target="_blank" class="file-link">Principles and Practice of Teacher Education. EDC, L200.</a>
    </div>
    <div class="file-item">
        <a href="IT/PRINCIPLES OF ACCOUNTING PASSCO BY HERTZ.pdf" target="_blank" class="file-link">PRINCIPLES OF ACCOUNTING PASSCO</a>
    </div>
    <div class="file-item">
        <a href="IT/Principles of Programing midsem 24-PETER.pdf" target="_blank" class="file-link">Principles of Programing midsem </a>
    </div>
    <div class="file-item">
        <a href="IT/programming Quiz 1.pdf" target="_blank" class="file-link">programming Quiz</a>
    </div>
    <div class="file-item">
        <a href="IT/Programming with C++ OUTLINE.pdf" target="_blank" class="file-link">Programming with C++ OUTLINE</a>
    </div>
    <div class="file-item">
        <a href="IT/PSEUDOCODE ASSIGMENT.mr.pee.pdf" target="_blank" class="file-link">PSEUDOCODE ASSIGMENT</a>
    </div>
    <div class="file-item">
        <a href="IT/Psychology of Human Development and Learning Assignment.pdf" target="_blank" class="file-link">Psychology of Human Development and Learning Assignment</a>
    </div>
    <div class="file-item">
        <a href="IT/psychology summary.pdf" target="_blank" class="file-link">psychology summary</a>
    </div>
    <div class="file-item">
        <a href="IT/SOLUTIONS TO PSEUDOCODE LAB EXERCISES Mr.pee.pdf" target="_blank" class="file-link">SOLUTIONS TO PSEUDOCODE LAB EXERCISES</a>
    </div>
     -->

    <!-- <div class="file-item">
        <a href="IT/Systemanalysisanddesign.pdf" target="_blank" class="file-link">SYSTEM ANALYST AND DESIGN 2</a>
    </div>
    <div class="file-item">
        <a href="IT/Web Technology Questions (By Lotal Ghana).pdf" target="_blank" class="file-link">Web Technology Questions (By Lotal Ghana).pdf</a>
    </div> -->
    <!-- <div class="file-item">
        <a href="IT/SYSTEM ANALYST AND DESIGN -152.pdf" target="_blank" class="file-link">SYSTEM ANALYST AND DESIGN</a>
    </div>
    <div class="file-item">
        <a href="IT/SYSTEM ANALYST AND DESIGN -152.pdf" target="_blank" class="file-link">SYSTEM ANALYST AND DESIGN</a>
    </div>
     -->
</section>



<!-- Hidden file input for uploading -->
<input type="file" id="fileInput" style="display: none;" multiple onchange="handleFileUpload(event)">

<script>
// Load file data from localStorage when the page is loaded
//  let fileList = JSON.parse(localStorage.getItem('fileList')) || [
//     { name: "To drain 54G2 Penstock.docx", url: "54G1 ISOLATION/To drain 54G2 Penstock.docx" },
//    { name: "To Ire 54G1 Governor Mechanically.docx", url: "54G1 ISOLATION/To Ire 54G1 Governor Mechanically.docx" },
//    { name: "Essential IT Security Tips.pdf", url: "54G1 ISOLATION/Essential IT Security Tips.pdf" }
// ];

// Function to search files
function searchFiles() {
    let searchQuery = document.getElementById('fileSearch').value.toLowerCase();
    let fileLinks = document.querySelectorAll('.file-link');
    
    fileLinks.forEach(function(link) {
        let fileName = link.textContent.toLowerCase();
        if (fileName.includes(searchQuery)) {
            link.parentElement.style.display = 'block'; // Show the file item if it matches
        } else {
            link.parentElement.style.display = 'none'; // Hide the file item if it doesn't match
        }
    });
}

// Function to delete a file item
function deleteFile(button) {
    let fileItem = button.parentElement; // Get the parent div of the button (file item)
    let fileName = fileItem.querySelector('.file-link').textContent;

    // Remove from fileList
    fileList = fileList.filter(file => file.name !== fileName);

    // Update the UI
    fileItem.remove();
    updateFileCount();

    // Save updated fileList to localStorage
    localStorage.setItem('fileList', JSON.stringify(fileList));
}

// Function to open the file in a new tab
function openFile(fileUrl) {
    window.open(fileUrl, '_blank');
}

// Function to print the file (open in browser and print)
function printFile(fileUrl) {
    let printWindow = window.open(fileUrl, '_blank');
    printWindow.onload = function() {
        printWindow.print();
    };
}

// Function to trigger file upload
function triggerFileUpload() {
    document.getElementById('fileInput').click();
}

// Function to handle file upload
function handleFileUpload(event) {
    const files = event.target.files;
    for (let i = 0; i < files.length; i++) {
        const file = files[i];
        
        // Add new file to the fileList (simulate file URL generation)
        const newFile = {
            name: file.name,
            url: URL.createObjectURL(file)  // Use object URL for the uploaded file
        };
        fileList.push(newFile);
        
        // Create new file item in the list
        const fileItem = document.createElement('div');
        fileItem.classList.add('file-item');
        fileItem.innerHTML = ` 
            <a href="${newFile.url}" target="_blank" class="file-link">${file.name}</a>
            <button class="delete-btn" onclick="deleteFile(this)">Delete</button>
            <button class="open-btn" onclick="openFile('${newFile.url}')">Open</button>
            <button class="print-btn" onclick="printFile('${newFile.url}')">Print</button>
        `;
        document.getElementById('files').appendChild(fileItem);
    }
    
    // Update the file count after upload
    updateFileCount();

    // Save updated fileList to localStorage
    localStorage.setItem('fileList', JSON.stringify(fileList));
}

// Function to update the total number of files in the navbar
function updateFileCount() {
    document.getElementById('fileCount').textContent = `Total  upload Files: ${fileList.length}`;
}

// Initial file count display and restoration of file list
function restoreFileList() {
    const filesContainer = document.getElementById('files');
    fileList.forEach(file => {
        const fileItem = document.createElement('div');
        fileItem.classList.add('file-item');
        fileItem.innerHTML = ` 
            <a href="${file.url}" target="_blank" class="file-link">${file.name}</a>
            <button class="delete-btn" onclick="deleteFile(this)">Delete</button>
            <button class="open-btn" onclick="openFile('${file.url}')">Open</button>
            <button class="print-btn" onclick="printFile('${file.url}')">Print</button>
        `;
        filesContainer.appendChild(fileItem);
    }); 
    updateFileCount();
}

// Load the file list on page load
window.onload = restoreFileList;
</script>

<style>

</style>
